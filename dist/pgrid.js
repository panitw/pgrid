!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(){this._handlers={}}listen(e,t){this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t)}unlisten(e,t){if(this._handlers[e]){let i=this._handlers[e].indexOf(t);i>-1&&this._handlers[e].splice(i,1)}}hasListener(e){return this._handlers[e]&&this._handlers[e].length>0}dispatch(e,t){if(this.hasListener(e)){let i=this._handlers[e];for(let e=0;e<i.length;e++)i[e](t)}}}var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some(function(e,s){return e[0]===t&&(i=s,!0)}),i}return function(){function t(){this.__entries__=[]}var i={size:{configurable:!0}};return i.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var i=e(this.__entries__,t),s=this.__entries__[i];return s&&s[1]},t.prototype.set=function(t,i){var s=e(this.__entries__,t);~s?this.__entries__[s][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,s=e(i,t);~s&&i.splice(s,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,s=this.__entries__;i<s.length;i+=1){var n=s[i];e.call(t,n[1],n[0])}},Object.defineProperties(t.prototype,i),t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,l="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(l):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},h=2,d=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,c=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,s=!1,n=0;function o(){i&&(i=!1,e()),s&&d()}function l(){r(o)}function d(){var e=Date.now();if(i){if(e-n<h)return;s=!0}else i=!0,s=!1,setTimeout(l,t);n=e}return d}(this.refresh.bind(this),20)};c.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},c.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},c.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},c.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},c.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},c.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},c.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),d.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},c.getInstance=function(){return this.instance_||(this.instance_=new c),this.instance_},c.instance_=null;var _=function(e,t){for(var i=0,s=Object.keys(t);i<s.length;i+=1){var n=s[i];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||l},u=y(0,0,0,0);function g(e){return parseFloat(e)||0}function p(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];return t.reduce(function(t,i){return t+g(e["border-"+i+"-width"])},0)}function m(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return u;var s=f(e).getComputedStyle(e),n=function(e){for(var t={},i=0,s=["top","right","bottom","left"];i<s.length;i+=1){var n=s[i],o=e["padding-"+n];t[n]=g(o)}return t}(s),o=n.left+n.right,l=n.top+n.bottom,r=g(s.width),h=g(s.height);if("border-box"===s.boxSizing&&(Math.round(r+o)!==t&&(r-=p(s,"left","right")+o),Math.round(h+l)!==i&&(h-=p(s,"top","bottom")+l)),!function(e){return e===f(e).document.documentElement}(e)){var d=Math.round(r+o)-t,a=Math.round(h+l)-i;1!==Math.abs(d)&&(r-=d),1!==Math.abs(a)&&(h-=a)}return y(n.left,n.top,r,h)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return o?w(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):u}function y(e,t,i,s){return{x:e,y:t,width:i,height:s}}var b=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e};b.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var x=function(e,t){var i,s,n,o,l,r,h,d=(s=(i=t).x,n=i.y,o=i.width,l=i.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,h=Object.create(r.prototype),_(h,{x:s,y:n,width:o,height:l,top:n,right:s+o,bottom:l+n,left:s}),h);_(this,{target:e,contentRect:d})},C=function(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i};C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},C.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new x(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return this.activeObservations_.length>0};var E="undefined"!=typeof WeakMap?new WeakMap:new n,R=function(e){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=c.getInstance(),i=new C(e,t,this);E.set(this,i)};["observe","unobserve","disconnect"].forEach(function(e){R.prototype[e]=function(){return(t=E.get(this))[e].apply(t,arguments);var t}});var M=void 0!==l.ResizeObserver?l.ResizeObserver:R;class S extends s{constructor(e,t){super(),this._model=e,this._extensions=t,this._recycledCells=[],this._cellReference={},this._template='<div class="pgrid-content-pane" style="position: relative;">\t<div class="pgrid-top-left-pane" style="position: absolute;">\t\t<div class="pgrid-top-left-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div>\t<div class="pgrid-top-pane" style="position: absolute;">\t\t<div class="pgrid-top-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div>\t<div class="pgrid-left-pane" style="position: absolute;">\t\t<div class="pgrid-left-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div>\t<div class="pgrid-center-pane" style="position: absolute;">\t\t<div class="pgrid-center-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div>\t<div class="pgrid-bottom-left-pane" style="position: absolute;">\t\t<div class="pgrid-bottom-left-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div>\t<div class="pgrid-bottom-pane" style="position: absolute;">\t\t<div class="pgrid-bottom-inner" style="width: 100%; height: 100%; overflow: hidden; position: relative;"></div>\t</div></div><div class="pgrid-hscroll" style="position: absolute; bottom: 0px; overflow-y: hidden; overflow-x: scroll;">\t<div class="pgrid-hscroll-thumb"></div></div><div class="pgrid-vscroll" style="position: absolute; right: 0px; top: 0px; overflow-y: scroll; overflow-x: hidden;">\t<div class="pgrid-vscroll-thumb"></div></div>'}render(e){this._element=e,this._element.className="pgrid",this._element.innerHTML=this._template,this._element.style.position="relative",this._element.style.overflow="hidden",this._element.tabIndex=1,this._contentPane=this._element.querySelector(".pgrid-content-pane"),this._topLeftPane=this._element.querySelector(".pgrid-top-left-pane"),this._topLeftInner=this._element.querySelector(".pgrid-top-left-inner"),this._topPane=this._element.querySelector(".pgrid-top-pane"),this._topInner=this._element.querySelector(".pgrid-top-inner"),this._leftPane=this._element.querySelector(".pgrid-left-pane"),this._leftInner=this._element.querySelector(".pgrid-left-inner"),this._centerPane=this._element.querySelector(".pgrid-center-pane"),this._centerInner=this._element.querySelector(".pgrid-center-inner"),this._bottomPane=this._element.querySelector(".pgrid-bottom-pane"),this._bottomInner=this._element.querySelector(".pgrid-bottom-inner"),this._bottomLeftPane=this._element.querySelector(".pgrid-bottom-left-pane"),this._bottomLeftInner=this._element.querySelector(".pgrid-bottom-left-inner"),this._scrollWidth=this._measureScrollbarWidth(),this._hScroll=this._element.querySelector(".pgrid-hscroll"),this._vScroll=this._element.querySelector(".pgrid-vscroll"),this._hScrollThumb=this._element.querySelector(".pgrid-hscroll-thumb"),this._vScrollThumb=this._element.querySelector(".pgrid-vscroll-thumb"),this._hScroll.style.height=this._scrollWidth+"px",this._vScroll.style.width=this._scrollWidth+"px",this._hScrollThumb.style.height=this._scrollWidth+"px",this._vScrollThumb.style.width=this._scrollWidth+"px",this._observeSize(),this._resturecture(),this._attachHandlers(),this._extensions.executeExtension("gridAfterRender",{grid:this})}reRender(){this._topLeftInner.innerHTML="",this._topInner.innerHTML="",this._leftInner.innerHTML="",this._centerInner.innerHTML="",this._bottomLeftInner.innerHTML="",this._bottomInner.innerHTML="",this._cellReference=[],this._model.calcTotalSize(),this._resturecture()}getElement(){return this._element}setScrollX(e,t){this._topPane.scrollLeft=e,this._centerPane.scrollLeft=e,this._bottomPane.scrollLeft=e,(t||void 0===t)&&(this._hScroll.scrollLeft=e)}getScrollX(){return this._centerPane.scrollLeft}setScrollY(e,t){let i=this._leftInner.clientHeight-this._leftPane.clientHeight;e>i&&(e=i),this._centerPane.scrollTop=e,this._leftPane.scrollTop=e,(t||void 0===t)&&(this._vScroll.scrollTop=e)}getScrollY(){return this._centerPane.scrollTop}scrollToCell(e,t,i){let s=this.getCell(e,t),n=s.parentElement.parentElement.scrollTop,o=s.parentElement.parentElement.scrollLeft;s.scrollIntoViewIfNeeded(!1),n!==s.parentElement.parentElement.scrollTop&&this.setScrollY(s.parentElement.parentElement.scrollTop,!0),o!==s.parentElement.parentElement.scrollLeft&&this.setScrollX(s.parentElement.parentElement.scrollLeft,!0)}getCell(e,t,i){let s=this._element.querySelector('[data-row-index="'+e+'"][data-col-index="'+t+'"]');if(s)return s;if(!1===i)return null;{let i=this._model.getLeftFreezeSize(),s=this._model.getTopFreezeSize(),n=this._model.getBottomFreezeSize(),o=this._getCellRect(e,t),l=this.getScrollX(),r=this.getScrollY(),h=this._element.getBoundingClientRect();return o.x>i&&(o.x<l+i?this.setScrollX(o.x-i):l+h.width<o.x+o.width&&this.setScrollX(o.x+o.width-h.width)),o.y<r+s?this.setScrollY(o.y):r+h.height-n<o.y+o.height&&this.setScrollY(o.y+o.height-h.height),this._renderCells(),this._element.querySelector('[data-row-index="'+e+'"][data-col-index="'+t+'"]')}}updateCell(e,t){let i=this.getCell(e,t,!1);if(i){let s=i.firstChild,n=this._model.getDataAt(e,t),o={data:n};this._extensions.executeExtension("dataBeforeRender",o),n=o.data;let l=!1,r=this._model.getRowId(e),h=this._model.getColumnField(t);this._extensions.hasExtension("cellUpdate")&&(o={data:n,cell:i,cellContent:s,rowIndex:e,colIndex:t,rowId:r,field:h,handled:!1},this._extensions.executeExtension("cellUpdate",o),l=o.handled),l||(s.innerHTML=null!=n?n:""),this._extensions.executeExtension("cellAfterUpdate",{data:n,cell:i,cellContent:s,rowIndex:e,colIndex:t,rowId:r,field:h})}}_attachHandlers(){this._vScrollHandler=(e=>{this.setScrollY(e.target.scrollTop,!1),this._renderCells(),this.dispatch("vscroll",e)}),this._hScrollHandler=(e=>{this.setScrollX(e.target.scrollLeft,!1),this._renderCells(),this.dispatch("hscroll",e)}),this._wheelHandler=(e=>{let t=this.getScrollX(),i=this.getScrollY();this.setScrollX(t+e.deltaX),this.setScrollY(i+e.deltaY),this._renderCells(),0!==e.deltaX&&this.dispatch("hscroll",e),0!==e.deltaY&&this.dispatch("vscroll",e)}),this._keyDownHandler=(e=>{this._extensions.executeExtension("keyDown",e)}),this._vScroll.addEventListener("scroll",this._vScrollHandler),this._hScroll.addEventListener("scroll",this._hScrollHandler),this._contentPane.addEventListener("wheel",this._wheelHandler),this._element.addEventListener("keydown",this._keyDownHandler)}_resturecture(){this._contentPane.style.width="calc(100% - "+this._scrollWidth+"px)",this._contentPane.style.height="calc(100% - "+this._scrollWidth+"px)";let e=this._model.getTopFreezeSize(),t=this._model.getBottomFreezeSize(),i=this._model.getLeftFreezeSize();this._topLeftPane.style.left="0px",this._topLeftPane.style.top="0px",this._topLeftPane.style.width=i+"px",this._topLeftPane.style.height=e+"px",this._topPane.style.left=i+"px",this._topPane.style.top="0px",this._topPane.style.width="calc(100% - "+i+"px)",this._topPane.style.height=e+"px",this._leftPane.style.left="0px",this._leftPane.style.top=e+"px",this._leftPane.style.width=i+"px",this._leftPane.style.height="calc(100% - "+(e+t)+"px)",this._centerPane.style.left=i+"px",this._centerPane.style.top=e+"px",this._centerPane.style.width="calc(100% - "+i+"px)",this._centerPane.style.height="calc(100% - "+(e+t)+"px)",this._bottomLeftPane.style.left="0px",this._bottomLeftPane.style.bottom="0px",this._bottomLeftPane.style.width=i+"px",this._bottomLeftPane.style.height=t+"px",this._bottomPane.style.left=i+"px",this._bottomPane.style.bottom="0px",this._bottomPane.style.width="calc(100% - "+i+"px)",this._bottomPane.style.height=t+"px",this._renderCells(),this._updateScrollBar()}_observeSize(){this._resizeObserver=new M((e,t)=>{this._updateScrollBar()}),this._resizeObserver.observe(this._element)}_updateScrollBar(){let e=this._model.getTotalWidth(),t=this._model.getTotalHeight();this._hScrollThumb.style.width=e+"px",this._vScrollThumb.style.height=t+"px";let i=this._element.getBoundingClientRect();switch(this._model.determineScrollbarState(i.width,i.height,this._scrollWidth)){case"n":this._hScroll.style.display="none",this._vScroll.style.display="none",this._contentPane.style.width="100%",this._contentPane.style.height="100%";break;case"h":this._hScroll.style.display="block",this._vScroll.style.display="none",this._hScroll.style.width="100%",this._contentPane.style.width="100%",this._contentPane.style.height="calc(100% - "+this._scrollWidth+"px)";break;case"v":this._hScroll.style.display="none",this._vScroll.style.display="block",this._vScroll.style.height="100%",this._contentPane.style.width="calc(100% - "+this._scrollWidth+"px)",this._contentPane.style.height="100%";break;case"b":this._hScroll.style.display="block",this._vScroll.style.display="block",this._hScroll.style.width="calc(100% - "+this._scrollWidth+"px)",this._vScroll.style.height="calc(100% - "+this._scrollWidth+"px)",this._contentPane.style.width="calc(100% - "+this._scrollWidth+"px)",this._contentPane.style.height="calc(100% - "+this._scrollWidth+"px)"}}_getCellRect(e,t){let i=0,s=0,n=0,o=0;for(let t=0;t<e;t++)i+=o=this._model.getRowHeight(t);for(let e=0;e<t;e++)s+=n=this._model.getColumnWidth(e);return{x:s,y:i,width:n,height:o}}_renderCells(){let e=this._model.getTopFreezeRows(),t=this._model.getLeftFreezeRows(),i=this._model.getBottomFreezeRows(),s=this._model.getRowCount(),n=this._model.getColumnCount(),o=0,l=0,r=[],h=0,d=0,a=0,c=0,_=0,f=0,u=0,g=0;h=this._topLeftPane.scrollLeft,d=this._topLeftPane.scrollTop,a=this._topLeftPane.offsetWidth,c=this._topLeftPane.offsetHeight,_=this._topPane.scrollLeft,f=this._topPane.scrollTop,u=this._topPane.offsetWidth,g=this._topPane.offsetHeight,o=0;for(let i=0;i<e;i++){let e=this._model.getRowHeight(i);l=0;for(let s=0;s<t;s++)r[s]=this._model.getColumnWidth(s),this._renderCell(i,s,this._topLeftInner,a,c,h,d,l,o,r[s],e),l+=r[s];l=0;for(let s=t;s<n;s++)r[s]=this._model.getColumnWidth(s),this._renderCell(i,s,this._topInner,u,g,_,f,l,o,r[s],e),l+=r[s];o+=e}this._topInner.style.width=l+"px",this._topInner.style.height=o+"px",h=this._leftPane.scrollLeft,d=this._leftPane.scrollTop,a=this._leftPane.offsetWidth,c=this._leftPane.offsetHeight,_=this._centerPane.scrollLeft,f=this._centerPane.scrollTop,u=this._centerPane.offsetWidth,g=this._centerPane.offsetHeight,o=0;for(let p=e;p<s-i;p++){let e=this._model.getRowHeight(p);l=0;for(let i=0;i<t;i++)this._renderCell(p,i,this._leftInner,a,c,h,d,l,o,r[i],e),l+=r[i];l=0;for(let i=t;i<n;i++)this._renderCell(p,i,this._centerInner,u,g,_,f,l,o,r[i],e),l+=r[i];o+=e}this._leftInner.style.height=o+"px",this._centerInner.style.width=l+"px",this._centerInner.style.height=o+"px",h=this._bottomLeftPane.scrollLeft,d=this._bottomLeftPane.scrollTop,a=this._bottomLeftPane.offsetWidth,c=this._bottomLeftPane.offsetHeight,_=this._bottomPane.scrollLeft,f=this._bottomPane.scrollTop,u=this._bottomPane.offsetWidth,g=this._bottomPane.offsetHeight,o=0;for(let e=s-i;e<s;e++){let i=this._model.getRowHeight(e);l=0;for(let s=0;s<t;s++)this._renderCell(e,s,this._bottomLeftInner,a,c,h,d,l,o,r[s],i),l+=r[s];l=0;for(let s=t;s<n;s++)this._renderCell(e,s,this._bottomInner,u,g,_,f,l,o,r[s],i),l+=r[s];o+=i}this._bottomInner.style.width=l+"px",this._bottomInner.style.height=o+"px"}_isCellVisible(e,t,i,s,n,o,l,r){return!(n+l<i||o+r<s||n>i+e||o>s+t)}_createCell(e,t,i,s,n,o){let l=null,r=e+","+t;if(this._recycledCells.length>0)(l=this._recycledCells.pop()).style.visibility="visible";else{l=document.createElement("div");let e=document.createElement("div");e.className="pgrid-cell-content",l.appendChild(e)}return l.style.left=i+"px",l.style.top=s+"px",l.style.width=n+"px",l.style.height=o+"px",l.dataset.rowIndex=e,l.dataset.colIndex=t,l.dataset.key=r,this._cellReference[r]=l,l}_recycleCell(e){this._cellReference[e.dataset.key]=null,e.title="";let t=e.querySelector(".pgrid-cell-content");if(t)for(;t.firstChild;)t.removeChild(t.firstChild);e.style.visibility="hidden",this._recycledCells.push(e),this._extensions.executeExtension("cellAfterRecycled",{cell:e})}_renderCell(e,t,i,s,n,o,l,r,h,d,a){let c=e+","+t;if(!this._isCellVisible(s,n,o,l,r,h,d,a)){let e=this._cellReference[c];return e&&this._recycleCell(e),!1}if(this._cellReference[c])return!0;let _=this._model.getDataAt(e,t),f={data:_};this._extensions.executeExtension("dataBeforeRender",f),_=f.data;let u=this._createCell(e,t,r,h,d,a),g=this._model.getCellClasses(e,t);u.className="pgrid-cell "+g.join(" "),i.appendChild(u);let p=u.firstChild,m={cell:u,cellContent:p,rowIndex:e,colIndex:t,data:_,rowId:this._model.getRowId(e),field:this._model.getColumnField(t),handled:!1},w=!1;return this._extensions.hasExtension("cellRender")&&(this._extensions.executeExtension("cellRender",m),w=m.handled),w||void 0!==_&&(p.innerHTML=_),this._extensions.executeExtension("cellAfterRender",m),this._extensions.executeExtension("cellAfterUpdate",m),m=null,!0}_measureScrollbarWidth(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.className="pgrid";var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.appendChild(e),t.appendChild(i),document.body.appendChild(t);var s=e.offsetWidth;i.style.overflow="scroll";var n=e.offsetWidth;return s==n&&(n=i.clientWidth),document.body.removeChild(t),s-n+(this._detectIE()?1:0)}_detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var s=e.indexOf("Edge/");return s>0&&parseInt(e.substring(s+5,e.indexOf(".",s)),10)}}class P extends s{constructor(e,t,i){if(super(),this._config=e,this._data=t,this._extension=i,this._columnModel=[],this._rowModel={},this._headerRowModel={},this._cellModel={},this._headerCellModel={},this._config.headerRows)for(let e=0;e<this._config.headerRows.length;e++)void 0!==this._config.headerRows[e].i&&(this._headerRowModel[this._config.headerRows[e].i]=this._config.headerRows[e]);if(this._config.columns)for(let e=0;e<this._config.columns.length;e++)void 0!==this._config.columns[e].i?this._columnModel[this._config.columns[e].i]=this._config.columns[e]:this._columnModel[e]=this._config.columns[e];if(this._config.rows)for(let e=0;e<this._config.rows.length;e++)this._rowModel[this._config.rows[e].i]=this._config.rows[e];if(this._config.cells)for(let e=0;e<this._config.cells.length;e++){let t=this._config.cells[e];this._cellModel[t.c]||(this._cellModel[t.c]={}),this._cellModel[t.c][t.r]=t}if(this._config.headerCells)for(let e=0;e<this._config.headerCells.length;e++){let t=this._config.headerCells[e];this._headerCellModel[t.c]||(this._headerCellModel[t.c]={}),this._headerCellModel[t.c][t.r]=t}this.calcTotalSize()}canEdit(e,t){let i=this.getRowModel(e),s=this.getColumnModel(t),n=this.getCellModel(e,t),o=!1;if((i&&i.editable||s&&s.editable||n&&n.editable)&&(o=!(i&&!1===i.editable||s&&!1===s.editable||n&&!1===n.editable)),this._extension.hasExtension("cellEditableCheck")){const l=this.getRowId(e),r={rowIndex:e,colIndex:t,rowId:l,field:this.getColumnField(t),dataRow:this._data.getRowData(l),rowModel:i,colModel:s,cellModel:n,canEdit:o};this._extension.executeExtension("cellEditableCheck",r),o=r.canEdit}return o}isHeaderRow(e){return e<this._config.headerRowCount}getColumnWidth(e){let t=this._columnModel[e];return t&&void 0!==t.width?t.width:this._config.columnWidth}getRowHeight(e){if(!this.isHeaderRow(e)){const t=e-this._config.headerRowCount;let i=this._rowModel[t];return i&&void 0!==i.height?i.height:this._config.rowHeight}}getColumnCount(){return this._config.columns.length}getRowCount(){return this._config.headerRowCount+this._data.getRowCount()}getTopFreezeRows(){let e=0;return void 0!==this._config.headerRowCount?e+=this._config.headerRowCount:e+=1,this._config.freezePane&&this._config.freezePane.top>0&&(e+=this._config.freezePane.top),e}getTopFreezeSize(){const e=this.getTopFreezeRows();let t=0;for(let i=0;i<e;i++)t+=this.getRowHeight(i);return t}getLeftFreezeRows(){return this._config.freezePane&&this._config.freezePane.left>0?this._config.freezePane.left:0}getLeftFreezeSize(){if(this._config.freezePane&&this._config.freezePane.left>0){let e=0;for(let t=0;t<this._config.freezePane.left;t++)e+=this.getColumnWidth(t);return e}return 0}getBottomFreezeRows(){return this._config.freezePane&&this._config.freezePane.bottom>0?this._config.freezePane.bottom:0}getBottomFreezeSize(){return this._bottomFreezeSize}getColumnWidth(e){return this._columnModel[e]&&void 0!==this._columnModel[e].width?this._columnModel[e].width:this._config.columnWidth}getRowHeight(e){return this._rowModel[e]&&void 0!==this._rowModel[e].height?this._rowModel[e].height:this._config.rowHeight}getTotalWidth(){return this._totalWidth}getTotalHeight(){return this._totalHeight}getRowModel(e){if(this.isHeaderRow(e))return this._headerRowModel[e];{const t=e-this._config.headerRowCount;return this._rowModel[t]}}getColumnModel(e){return this._columnModel[e]}getCellModel(e,t){if(this.isHeaderRow(e)){if(this._headerCellModel[t])return this._headerCellModel[t][e]}else{const i=e-this._config.headerRowCount;if(this._cellModel[t])return this._cellModel[t][i]}}getCascadedCellProp(e,t,i){const s=this.getCellModel(e,t);if(s&&s[i])return s[i];const n=this.getRowModel(e);if(n&&n[i])return n[i];const o=this.getColumnModel(t);return o&&o[i]?o[i]:void 0}getCellClasses(e,t){let i=[];const s=this.getColumnModel(t);s&&s.cssClass&&i.unshift(s.cssClass);const n=this.isHeaderRow(e),o=this.getRowModel(e);o&&(n&&i.unshift("pgrid-row-header"),o.cssClass&&i.unshift(o.cssClass));const l=this.getCellModel(e,t);return l&&l.cssClass&&i.unshift(l.cssClass),i}determineScrollbarState(e,t,i){let s=this._totalWidth>e,n=this._totalHeight>t;return s&&!n?n=this._totalHeight>t-i:!s&&n&&(s=this._totalWidth>e-i),s&&n?"b":!s&&n?"v":s&&!n?"h":"n"}getDataAt(e,t){if(this.isHeaderRow(e)){const e=this.getColumnModel(t);return e&&e.title?e.title:void 0}{const i=e-this._config.headerRowCount,s=this.getColumnModel(t);return s&&s.field?this._data.getDataAt(i,s.field):void 0}}getRowDataAt(e){if(!this.isHeaderRow(e)){const t=e-this._config.headerRowCount;return this._data.getRowDataAt(t)}}setDataAt(e,t,i){const s=e-this._config.headerRowCount,n=this.getColumnModel(t);n&&n.field&&this._data.setDataAt(s,n.field,i)}getRowIndex(e){return this._config.headerRowCount+this._data.getRowIndex(e)}getRowId(e){return e>=this._config.headerRowCount?this._data.getRowId(e-this._config.headerRowCount):null}getColumnIndex(e){for(let t=0;t<this._config.columns.length;t++)if(this._config.columns[t].field===e)return t;return-1}getColumnField(e){if(this._config.columns[e])return this._config.columns[e].field}calcTotalSize(){this._calcTotalWidth(),this._calcTotalHeight(),this._calcBottomFreezeSize()}_calcTotalWidth(){this._totalWidth=0;for(let e=0;e<this._columnModel.length;e++)void 0!==this._columnModel[e].width?this._totalWidth+=this._columnModel[e].width:this._totalWidth+=this._config.columnWidth}_calcTotalHeight(){let e=Object.keys(this._headerRowModel);this._totalHeight=this._config.rowHeight*(this._config.headerRowCount-e.length);for(let e in this._headerRowModel)void 0!==this._headerRowModel[e].height?this._totalHeight+=this._headerRowModel[e].height:this._totalHeight+=this._config.rowHeight;let t=Object.keys(this._rowModel);this._totalHeight+=this._config.rowHeight*(this._data.getRowCount()-t.length);for(let e in this._rowModel)void 0!==this._rowModel[e].height?this._totalHeight+=this._rowModel[e].height:this._totalHeight+=this._config.rowHeight}_calcBottomFreezeSize(){if(this._config.freezePane&&this._config.freezePane.bottom>0){let e=0;for(let t=0;t<this._config.freezePane.bottom;t++)e+=this.getRowHeight(this._config.rowCount-1-t);this._bottomFreezeSize=e}else this._bottomFreezeSize=0}}const H="dataChanged";class L extends s{constructor(e,t){super(),this._extension=t,this._idRunner=0,this._rid=[],this._rowMap={},this._data=[],this._blockEvent=!1,this._processedEvent=[],this._transformedRid=[],this._searchQuery=null,this._searchFields=null,this._freezeCount=0;let{format:i,data:s,fields:n}=e;if(i||(i="rows"),this._dataFormat=i,this._fields=n,Array.isArray(s))for(let e=0;e<s.length;e++)this.addRow(s[e]);else this._data=[]}getRowCount(){return this._transformedRid.length}getAllData(){return this._data}getData(e,t){let i=this._rowMap[e];if(i)return i[t]}getDataAt(e,t){let i=this._transformedRid[e];if(i){let e=this._rowMap[i];if(e)return e[t]}}getRowData(e){return this._rowMap[e]}getRowDataAt(e){let t=this._transformedRid[e];if(t)return this._rowMap[t]}getRowIndex(e){return this._transformedRid.indexOf(e)}getRowId(e){return this._transformedRid[e]}freeze(){this._freezeCount++}unfreeze(){this._freezeCount--,this._freezeCount<0&&(this._freezeCount=0)}setData(e,t,i){let s=this._rowMap[e];if(s&&s[t]===i)return;const n={changeType:"fieldChange",rowId:e,field:t,data:i,cancel:!1};this._processedEvent.push(n);let o=!1;if(this._blockEvent?o=!0:(this._blockEvent=!0,this._extension.executeExtension("dataBeforeUpdate",n),this._blockEvent=!1),n.cancel||s&&(s[t]=n.data,this._blockEvent||(this._blockEvent=!0,this._extension.executeExtension("dataAfterUpdate",n),this._blockEvent=!1)),!o){let e={updates:this._processedEvent};this._extension.executeExtension("dataFinishUpdate",e),0===this._freezeCount&&setTimeout(()=>{this.dispatch(H,e)},100),this._processedEvent=[]}}setDataAt(e,t,i){const s=this._transformedRid[e];void 0!==s&&this.setData(s,t,i)}addRow(e){const t=this.getRowCount();this.insertRow(t,e)}insertRow(e,t){let i=null,s=!1;if("rows"===this._dataFormat)i=this._generateRowId(),this._rid.splice(e,0,i),this._rowMap[i]=t,this._data.splice(e,0,t),s=!0;else if("array"===this._dataFormat&&Array.isArray(this._fields)){i=this._generateRowId(),this._rid.splice(e,0,i);let n=this._createObject(t,this._fields);this._rowMap[i]=n,this._data.splice(e,0,n),s=!0}if(s&&0===this._freezeCount){const e={updates:[{changeType:"rowAdded",rowId:i,data:this.getRowData(i)}]};this.dispatch(H,e)}this._searchQuery?this.search(this._searchQuery,this._searchFields):this._transformedRid=this._rid.slice()}removeRow(e){let t=this._rowMap[e],i=this._data.indexOf(t),s=this._transformedRid.indexOf(e);if(this._data.splice(i,1),this._rid.splice(i,1),this._transformedRid.splice(s,1),delete this._rowMap[e],0===this._freezeCount){const t={updates:[{changeType:"rowRemoved",rowId:e}]};this.dispatch(H,t)}}removeRowAt(e){let t=this.getRowId(e);this.removeRow(t)}removeAllRows(){if(this._rid=[],this._transformedRid=[],this._rowMap={},this._data=[],0===this._freezeCount){const e={updates:[{changeType:"global"}]};setTimeout(()=>{this.dispatch(H,e)},100)}}search(e,t){this._searchQuery=e,this._searchFields=t;let i=null;t&&(i=t.reduce((e,t)=>{e[t]=!0},{}));const s=new RegExp(e,"i");if(this._transformedRid=this._rid.filter(e=>{const t=this._rowMap[e];if(t)for(var n in t)if((!i||i[n])&&t[n]&&s.test(t[n]))return!0}),0===this._freezeCount){const e={updates:[{changeType:"global"}]};this.dispatch(H,e)}}clearSearch(){if(this._transformedRid=this._rid.slice(),this._searchQuery=null,this._searchFields=null,0===this._freezeCount){const e={updates:[{changeType:"global"}]};this.dispatch(H,e)}}_generateRowId(){return this._idRunner++,""+this._idRunner}_createObject(e,t){let i={};for(let s=0;s<t.length;s++)i[t[s]]=e[s];return i}}class I{constructor(e,t){this._grid=e,this._config=t,this._extensions={cellRender:[],cellAfterRender:[],cellUpdate:[],cellAfterUpdate:[],cellEditableCheck:[],cellAfterRecycled:[],keyDown:[],gridAfterRender:[],dataBeforeRender:[],dataBeforeUpdate:[],dataAfterUpdate:[],dataFinishUpdate:[]}}loadExtension(e){e.init&&e.init(this._grid,this._config);for(let t in this._extensions)e[t]&&this._extensions[t].push(e)}hasExtension(e){return this._extensions[e]&&this._extensions[e].length>0}queryExtension(e){return this._extensions[e]?this._extensions[e]:[]}executeExtension(e){this.queryExtension(e).forEach(t=>{t[e].apply(t,Array.prototype.slice.call(arguments,1))})}}class T{constructor(){this._state={}}exists(e){return void 0!==this._state[e]}get(e){return this._state[e]}set(e,t){this._state[e]=t}}class z{static mixin(e,t){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}}class A{init(e,t){this._grid=e,this._config=t,this._currentSelection=null,this._selectionClass=this._config.selection&&this._config.selection.cssClass?this._config.selection.cssClass:"pgrid-cell-selection",this._mouseDownEventHandler=this._mouseDownEventHandler.bind(this)}keyDown(e){if(this._grid.state.get("editing"))return;let t=this._grid.state.get("selection");if(t&&t.length>0){let i=t[0].r,s=t[0].c,n=!0;switch(e.keyCode){case 40:i++,n=!1;break;case 38:i--;break;case 37:s--;break;case 39:case 9:s++;break;default:return}if(i>=0&&i<this._grid.model.getRowCount()&&s>=0&&s<this._grid.model.getColumnCount()){const t=this._grid.model.isHeaderRow(i);if(!this._grid.model.getRowModel(i)||!t){let t=this._grid.view.getCell(i,s);t&&(this._selectCell(t,i,s),this._grid.view.scrollToCell(i,s,n),e.preventDefault(),e.stopPropagation())}}}}cellAfterRender(e){e.cell.addEventListener("mousedown",this._mouseDownEventHandler)}cellAfterRecycled(e){e.cell.removeEventListener("mousedown",this._mouseDownEventHandler,!1)}_mouseDownEventHandler(e){const t=e.target,i=parseInt(t.dataset.rowIndex),s=parseInt(t.dataset.colIndex),n=this._grid.model.getRowModel(i),o=this._grid.model.isHeaderRow(i);n&&o||t.classList.contains("pgrid-cell")&&this._selectCell(t,i,s)}_selectCell(e,t,i){this._currentSelection&&this._currentSelection!==e&&this._currentSelection.classList.remove(this._selectionClass),this._currentSelection=e,this._currentSelection.classList.add(this._selectionClass),this._grid.view.getElement().focus();let s=this._grid.state.get("selection");s||(s=[],this._grid.state.set("selection",s)),s.length=0,s.push({r:t,c:i,w:1,h:1})}}class k{init(e,t){this._grid=e,this._config=t,this._editorAttached=!1,this._scrollHandler=this._scrollHandler.bind(this),this._grid.view.listen("vscroll",this._scrollHandler),this._grid.view.listen("hscroll",this._scrollHandler),this._cellDblClickedHandler=this._cellDblClickedHandler.bind(this)}_scrollHandler(){this._detachEditor()}keyDown(e){if(!this._editorAttached&&!e.ctrlKey){let t=this._grid.state.get("selection");if(t&&t.length>0){let i=t[0].r,s=t[0].c,n=!1;if((13===e.keyCode||e.keyCode>31&&!(e.keyCode>=37&&e.keyCode<=40))&&(n=!0),n&&i>=0&&i<this._grid.model.getRowCount()&&s>=0&&s<this._grid.model.getColumnCount()){let e=this._grid.view.getCell(i,s);e&&this._editCell(e)}}}}cellAfterRender(e){e.cell.addEventListener("dblclick",this._cellDblClickedHandler)}cellAfterRecycled(e){e.cell.removeEventListener("dblclick",this._cellDblClickedHandler,!1)}_cellDblClickedHandler(e){let t=e.target;t&&this._editCell(t)}_editCell(e){let t=e,i=parseInt(t.dataset.rowIndex),s=parseInt(t.dataset.colIndex);if(this._grid.model.canEdit(i,s)){this._grid.state.set("editing",!0);let n=e.getBoundingClientRect();const o=document.scrollingElement||document.documentElement;let l=o.scrollTop,r=o.scrollLeft;this._editorContainer=document.createElement("div"),this._editorContainer.style.position="absolute",this._editorContainer.style.top=n.top+l+"px",this._editorContainer.style.left=n.left+r+"px",this._editorContainer.style.width=n.width+"px",this._editorContainer.style.height=n.height+"px",document.body.appendChild(this._editorContainer);let h=this._grid.model.getDataAt(i,s),d=this._grid.model.getCascadedCellProp(t.dataset.rowIndex,t.dataset.colIndex,"editor");if(d&&d.attach){let e=this._grid.model.getRowDataAt(i,s),t={cell:this._editorContainer,data:h,dataRow:e,done:this._done.bind(this)};d.attach(t)}else this._attachEditor(this._editorContainer,h,this._done.bind(this));this._editorAttached=!0,this._editingCol=s,this._editingRow=i}}_attachEditor(e,t,i){if(!this._inputElement){let s=e.getBoundingClientRect();this._inputElement=document.createElement("input"),this._inputElement.type="text",this._inputElement.value=t,this._inputElement.style.width=s.width+"px",this._inputElement.style.height=s.height+"px",this._inputElement.className="pgrid-cell-text-editor",e.appendChild(this._inputElement),this._inputElement.focus(),this._inputElement.select(),this._arrowKeyLocked=!1,this._keydownHandler=(e=>{switch(e.keyCode){case 13:this._inputElement&&this._inputElement.removeEventListener("blur",this._blurHandler),i(e.target.value),e.stopPropagation(),e.preventDefault();break;case 27:this._inputElement&&this._inputElement.removeEventListener("blur",this._blurHandler),i(),e.preventDefault(),e.stopPropagation();break;case 40:case 38:case 37:case 39:"INPUT"!==document.activeElement.tagName&&i(e.target.value)}}),this._blurHandler=(e=>{i(e.target.value)}),this._inputElement.addEventListener("keydown",this._keydownHandler),this._inputElement.addEventListener("blur",this._blurHandler)}}_detachEditor(){this._editorContainer&&(this._editorContainer.parentElement.removeChild(this._editorContainer),this._editorContainer=null,this._inputElement&&(this._inputElement.removeEventListener("keydown",this._keydownHandler),this._inputElement.removeEventListener("blur",this._blurHandler),this._inputElement.removeEventListener("click",this._clickHandler),this._inputElement.parentElement.removeChild(this._inputElement),this._inputElement=null,this._keydownHandler=null,this._blurHandler=null,this._clickHandler=null))}_done(e,t){if(this._detachEditor(),void 0!==e)if(t){let t=this._grid.model.getRowId(this._editingRow);if(t)for(let i in e)e.hasOwnProperty(i)&&this._grid.data.setData(t,i,e[i])}else this._grid.model.setDataAt(this._editingRow,this._editingCol,e);this._grid.view.updateCell(this._editingRow,this._editingCol),this._editingRow=-1,this._editingCol=-1,this._editorAttached=!1,this._grid.state.set("editing",!1),this._grid.view.getElement().focus()}}class O{constructor(){this._globalClipboard=!1}init(e,t){this._grid=e,this._config=t}keyDown(e){if(this._globalClipboard&&e.ctrlKey)if("c"===e.key){let e=this._copy();null!==e&&window.clipboardData.setData("text",e)}else"v"===e.key&&this._paste(window.clipboardData.getData("text"))}gridAfterRender(e){window.clipboardData?this._globalClipboard=!0:(this._grid.view.getElement().addEventListener("paste",e=>{this._paste(e.clipboardData.getData("text"))}),this._grid.view.getElement().addEventListener("copy",e=>{let t=this._copy();null!==t&&(e.clipboardData.setData("text/plain",t),e.preventDefault())}),this._globalClipboard=!1)}_copy(e){let t=this._grid.state.get("selection");if(t&&t.length>0){let e=t[0],i=[];for(let t=0;t<e.h;t++){let s=[];for(let i=0;i<e.w;i++)s.push(this._grid.model.getDataAt(e.r+t,e.c+i));i.push(s.join("\t"))}return i.join("\n")}return null}_paste(e){if(e){e=e.replace(/\n$/g,"");let t=this._grid.state.get("selection");if(t&&t.length>0){let i=t[0],s=e.split("\n");for(let e=0;e<s.length;e++){let t=s[e].split("\t");for(let s=0;s<t.length;s++){let n=i.r+e,o=i.c+s;this._grid.model.canEdit(n,o)&&(this._grid.model.setDataAt(n,o,t[s]),this._grid.view.updateCell(n,o))}}}}}}class D{init(e,t){this._grid=e,this._config=t}dataFinishUpdate(e){let t={},i={};for(let s=0;s<e.updates.length;s++){let{rowId:n,field:o}=e.updates[s],l=null,r=null;t[n]?l=t[n]:(l=this._grid.model.getRowIndex(n),t[n]=l),i[o]?r=i[o]:(r=this._grid.model.getColumnIndex(o),i[n]=r),-1!==r&&this._grid.view.updateCell(l,r)}}}class W{init(e,t){this._grid=e,this._config=t}render(e,t,i){if(i.render){let s=Object.assign({},e);s.colModel=t,s.grid=this._grid,i.render(s),e.handled=!0}}update(e,t,i){if(i.update){let s=Object.assign({},e);s.colModel=t,s.grid=this._grid,i.update(s),e.handled=!0}}cellRender(e){const t=this._grid.model.getColumnModel(e.colIndex);if(t&&t.formatter)if(Array.isArray(t.formatter))for(let i=0;i<t.formatter.length;i++)this.render(e,t,t.formatter[i]);else this.render(e,t,t.formatter)}cellUpdate(e){const t=this._grid.model.getColumnModel(e.colIndex);if(t&&t.formatter)if(Array.isArray(t.formatter))for(let i=0;i<t.formatter.length;i++)this.update(e,t,t.formatter[i]);else this.update(e,t,t.formatter)}}window.PGrid=class extends s{constructor(e){super(),this._config=z.mixin(e,{rowCount:0,headerRowCount:1,footerRowCount:0,columnCount:0,rowHeight:32,columnWidth:100}),this._extensions=new I(this,this._config),this._data=new L(this._config.dataModel,this._extensions),this._model=new P(this._config,this._data,this._extensions),this._view=new S(this._model,this._extensions),this._state=new T,this._config.selection&&this._extensions.loadExtension(new A),this._config.editing&&this._extensions.loadExtension(new k),this._config.copypaste&&this._extensions.loadExtension(new O),this._config.autoUpdate&&this._extensions.loadExtension(new D),this._config.columnFormatter&&this._extensions.loadExtension(new W),this._config.extensions&&this._config.extensions.length>0&&this._config.extensions.forEach(e=>{this._extensions.loadExtension(e)})}get view(){return this._view}get model(){return this._model}get data(){return this._data}get extension(){return this._extensions}get state(){return this._state}render(e){this._view.render(e)}},Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){function t(e,t){return{start:e,length:t,end:e+t}}function i(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2}function s(e,t){return{x:e,y:t,translate:function(i,n){return s(e+i,t+n)}}}function n(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var o,l=n(this,s(0,0)),r=s(this.offsetWidth,this.offsetHeight),h=this.parentNode;h instanceof HTMLElement;)o=n(h,s(h.clientLeft,h.clientTop)),h.scrollLeft=i(t(l.x-o.x,r.x),t(h.scrollLeft,h.clientWidth)),h.scrollTop=i(t(l.y-o.y,r.y),t(h.scrollTop,h.clientHeight)),l=l.translate(-h.scrollLeft,-h.scrollTop),h=h.parentNode})}]);
//# sourceMappingURL=pgrid.js.map